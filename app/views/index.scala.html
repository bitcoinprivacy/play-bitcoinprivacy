@(blockHeight:Int, addressForm:play.api.data.Form[String],inputAddress:String,wallet:Option[List[(String, Long)]])
@import b3.vertical.fieldConstructor  // Declares a vertical field constructor as default


@main("Bitcoin Wallet Search", "search"){

  <div class="row">
    <div class="col-md-12">
      <p>Welcome to bitcoin privacy. Enter a bitcoin address to check
      for other addresses that seem to belong to the same wallet,
      according to the blockchain up to block <span class="bge_block">@blockHeight</span></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <p>
        @b3.form(action = routes.Application.searchAddress) {
          @b3.text(addressForm("address"), '_label -> "Bitcoin Address",
          'placeholder -> "Please enter a bitcoin address" )
          @b3.submit('class -> "btn btn-primary"){
            <span class="text-right glyphicon glyphicon-ok"></span> Search
          }
        }      
      </p>
    </div>
  </div>

  @for(t<-wallet){
    <div class="row">
      <div class="col-md-12">
        <p class="text-right">@unitButtons()</p>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <table class="table table-striped table-hover" style="table-layout:fixed">
          <tr>
            <th width="60%">Address</th>
            <th width="40%" class="text-right">Value</th>
          </tr>
          @if(t.size==0){
            <tr>
              <td width="60%" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"  class="bge_address_wallet">@inputAddress</td>
              <td width="40%"
              style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"
              class="bge_value text-right">0</td>
            </tr>

          }
          @for((address,value) <- t){   
            <tr>
              <td width="60%" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;" class="bge_address_wallet">@address</td>
              <td width="40%" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;" class="bge_value text-right">@value</td>
            </tr>
          }  
  
      </table>
    </div>
  }
}
